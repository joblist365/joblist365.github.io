<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JobPatra â€” Find Careers in India</title>
  <meta name="description" content="JobPatra - search companies by sector, state, city & role" />
  <style>
    /* -----------------------
       GLOBAL / THEME
       ----------------------- */
    :root{
      --blue-700:#1e3a8a;
      --blue-600:#2563eb;
      --blue-500:#3b82f6;
      --muted:#64748b;
      --bg:#ffffff;
      --card:#f8fafc;
      --chip-bg:#eef2ff;
      --success:#16a34a;
      --danger:#ef4444;
    }
    html,body{height:100%; margin:0; padding:0; background:var(--bg); color:#0f172a; font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif; -webkit-font-smoothing:antialiased;}
    .page { max-width:1100px; margin:18px auto; padding:18px; }

    /* -----------------------
       HEADER & MESSAGE
       ----------------------- */
    header { background:var(--blue-700); color:white; padding:18px 20px; border-radius:10px; display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
    header .title { font-weight:700; font-size:20px; letter-spacing:0.2px; }
    header .subtitle { font-size:13px; color: #dbeafe; opacity:0.95; }

    .message {
      margin-top:14px; background:#e9f1ff; border:1px solid #dbeafe; padding:14px; border-radius:10px; color:var(--blue-700);
      display:flex; gap:10px; align-items:flex-start; line-height:1.3; font-size:14px;
    }
    .message strong{color:var(--blue-700);}

    /* -----------------------
       CONTAINER CARD
       ----------------------- */
    .card { background:var(--card); border-radius:12px; box-shadow:0 6px 18px rgba(14,30,66,0.06); padding:18px; margin-top:18px; }
    .heading { display:flex; justify-content:space-between; align-items:center; gap:12px; }
    .heading h2{ margin:0; color:var(--blue-700); font-size:18px; }
    .instructions { font-size:13px; color:var(--muted); margin-top:8px; }

    /* -----------------------
       FILTER LAYOUT
       ----------------------- */
    .filters { display:grid; grid-template-columns:repeat(3, 1fr); gap:12px; margin-top:14px; }
    @media (max-width:880px){ .filters{ grid-template-columns:1fr; } }

    .field { background:white; padding:10px; border-radius:8px; border:1px solid #e6eefc; }
    .label { font-size:13px; color:var(--muted); margin-bottom:6px; display:block; font-weight:600; }
    .single-input, .search-input { width:100%; padding:9px 10px; border-radius:8px; border:1px solid #dbeafe; font-size:14px; outline:none; }
    .single-input:focus, .search-input:focus{ box-shadow:0 4px 12px rgba(59,130,246,0.12); border-color:var(--blue-500); }

    /* -----------------------
       MULTI-SELECT (chips + input)
       ----------------------- */
    .multi { min-height:46px; display:flex; align-items:center; gap:8px; flex-wrap:wrap; padding:6px; border-radius:8px; border:1px solid #e6eefc; }
    .chip { background:var(--chip-bg); color:var(--blue-700); padding:6px 8px; border-radius:999px; font-weight:600; display:inline-flex; align-items:center; gap:8px; font-size:13px; }
    .chip .x { width:18px; height:18px; display:inline-flex; align-items:center; justify-content:center; background:transparent; color:var(--blue-700); border-radius:50%; cursor:pointer; font-weight:700; }
    .chip small { font-size:11px; color:var(--muted); margin-left:6px; font-weight:500; }

    .typebox { min-width:140px; border:none; outline:none; font-size:14px; padding:6px; }

    /* -----------------------
       SUGGESTION DROPDOWN
       ----------------------- */
    .suggestions { position:relative; }
    .suggestions .list { position:absolute; left:0; right:0; top:46px; background:white; border-radius:8px; max-height:220px; overflow:auto; box-shadow:0 8px 20px rgba(14,30,66,0.08); border:1px solid #e6eefc; z-index:80;}
    .suggestions .item { padding:10px 12px; cursor:pointer; font-size:14px; }
    .suggestions .item:hover { background:#f1f8ff; color:var(--blue-700); }

    /* -----------------------
       CONTROLS ROW
       ----------------------- */
    .controls { display:flex; gap:12px; align-items:center; margin-top:16px; flex-wrap:wrap; }
    .btn { background:var(--blue-600); color:white; padding:10px 14px; border-radius:8px; border:none; font-weight:700; cursor:pointer; box-shadow:0 6px 18px rgba(2,6,23,0.06); }
    .btn.secondary { background:white; color:var(--blue-700); border:1px solid #e6eefc; font-weight:700; }
    .btn.small { padding:8px 10px; font-size:14px; }

    /* -----------------------
       AD BANNER (approx 1 inch gap)
       ----------------------- */
    .ad-space { height:18px; } /* spacer approx */
    .ad { text-align:center; margin-top:22px; }
    .ad img { max-width:100%; border-radius:8px; border:1px solid #e6eefc; }

    /* -----------------------
       FOOTER
       ----------------------- */
    footer { margin-top:24px; text-align:center; color:var(--muted); font-size:13px; padding-bottom:18px; }

    /* -----------------------
       SMALL HELP TEXT
       ----------------------- */
    .muted { color:var(--muted); font-size:13px; }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div>
        <div class="title">JobPatra</div>
        <div class="subtitle">Companies & careers across India â€” search by sector, state, city & role</div>
      </div>
    </header>

    <div class="message">
      <div style="font-size:18px; color:var(--blue-700); font-weight:700;">ðŸ’¡</div>
      <div>
        <div style="font-weight:700; margin-bottom:4px;">Companies sometimes hire only on their official career pages.</div>
        <div class="muted">Visit the companyâ€™s career page to apply â€” it shows your genuine interest. Use the filters below to find suitable companies; click a company to open their careers page.</div>
      </div>
    </div>

    <div class="card">
      <div class="heading">
        <h2>Find jobs by sector, state & role</h2>
        <div class="muted">Pick a sector (required). States & Cities optional. Roles optional.</div>
      </div>

      <div class="instructions">Type to search states, cities, or roles. After selecting state(s) the city suggestions will update to those states only.</div>

      <!-- FILTERS -->
      <div class="filters" style="margin-top:16px;">
        <!-- Sector (single searchable select) -->
        <div class="field">
          <label class="label">Sector *</label>
          <div class="suggestions" id="sectorField">
            <input id="sectorInput" class="single-input" placeholder="Type or choose sector" autocomplete="off" />
            <div id="sectorList" class="list" style="display:none; position:relative;"></div>
          </div>
          <div class="muted" style="margin-top:8px;">Select the industry sector (required)</div>
        </div>

        <!-- State (multi-searchable) -->
        <div class="field">
          <label class="label">State(s) (optional)</label>
          <div id="stateMulti" class="multi suggestions">
            <!-- chips and input inserted here -->
            <input id="stateInput" class="typebox" placeholder="Type to search states" />
            <div id="stateSuggestions" class="list" style="display:none;"></div>
          </div>
          <div class="muted" style="margin-top:8px;">You may select multiple states. Start typing to search.</div>
        </div>

        <!-- City (multi-searchable) -->
        <div class="field">
          <label class="label">City(s) (optional)</label>
          <div id="cityMulti" class="multi suggestions">
            <input id="cityInput" class="typebox" placeholder="Type to search cities (based on selected states)" />
            <div id="citySuggestions" class="list" style="display:none;"></div>
          </div>
          <div class="muted" style="margin-top:8px;">Cities list updates after selecting state(s); you can also type freely.</div>
        </div>
      </div>

      <!-- Roles row -->
      <div style="margin-top:14px;">
        <label class="label">Role(s) (optional)</label>
        <div id="roleMulti" class="multi suggestions" style="min-height:56px;">
          <input id="roleInput" class="typebox" placeholder="Type to search roles (200+)" />
          <div id="roleSuggestions" class="list" style="display:none;"></div>
        </div>
        <div class="muted" style="margin-top:8px;">Roles shown alphabetically; you can type to filter and select multiple.</div>
      </div>

      <!-- controls -->
      <div class="controls" style="margin-top:16px;">
        <button class="btn" onclick="onSearch()">Search</button>
        <button class="btn secondary" onclick="onReset()">Reset</button>
        <button class="btn small" onclick="onShowSample()">Preview sample results</button>
      </div>

      <!-- ad spacing & banner -->
      <div class="ad-space" aria-hidden="true"></div>
      <div class="ad">
        <img src="https://via.placeholder.com/728x90.png?text=Your+Ad+Here" alt="Ad Banner" />
      </div>
    </div>

    <footer>Â© 2025 JobPatra â€” Trusted company & career directory</footer>
  </div>

  <!-- =========================
       SCRIPT: DATA + BEHAVIOR
       ========================= -->
  <script>
    /************************************************************************
     * Small utility helpers
     ************************************************************************/
    function el(id){ return document.getElementById(id); }
    function create(tag, attrs){ const e=document.createElement(tag); if(attrs) Object.entries(attrs).forEach(([k,v])=>e.setAttribute(k,v)); return e; }
    function removeNode(node){ if(node && node.parentNode) node.parentNode.removeChild(node); }
    function debounce(fn, wait=200){ let t; return (...a)=>{ clearTimeout(t); t=setTimeout(()=>fn(...a), wait); }; }

    /************************************************************************
     * DATA: states -> cities mapping (India sample, extendable)
     * (I included major states and major cities. You can expand this array.)
     ************************************************************************/
    const STATE_CITY = {
      "Andhra Pradesh": ["Visakhapatnam","Vijayawada","Guntur","Tirupati","Kurnool"],
      "Arunachal Pradesh": ["Itanagar"],
      "Assam": ["Guwahati","Dibrugarh","Silchar"],
      "Bihar": ["Patna","Gaya","Bhagalpur"],
      "Chhattisgarh": ["Raipur","Bilaspur"],
      "Goa": ["Panaji","Margao"],
      "Gujarat": ["Ahmedabad","Vadodara","Surat","Rajkot"],
      "Haryana": ["Gurgaon","Faridabad","Panipat","Ambala"],
      "Himachal Pradesh": ["Shimla","Dharamshala"],
      "Jharkhand": ["Ranchi","Jamshedpur"],
      "Karnataka": ["Bangalore","Mysore","Mangalore","Hubli"],
      "Kerala": ["Kochi","Thiruvananthapuram","Kozhikode"],
      "Madhya Pradesh": ["Bhopal","Indore","Gwalior"],
      "Maharashtra": ["Mumbai","Pune","Nagpur","Nashik","Aurangabad"],
      "Manipur": ["Imphal"],
      "Meghalaya": ["Shillong"],
      "Mizoram": ["Aizawl"],
      "Nagaland": ["Kohima"],
      "Odisha": ["Bhubaneswar","Cuttack","Puri"],
      "Punjab": ["Chandigarh","Ludhiana","Amritsar","Jalandhar"],
      "Rajasthan": ["Jaipur","Jodhpur","Udaipur","Kota"],
      "Sikkim": ["Gangtok"],
      "Tamil Nadu": ["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem"],
      "Telangana": ["Hyderabad","Warangal","Nizamabad"],
      "Tripura": ["Agartala"],
      "Uttar Pradesh": ["Lucknow","Noida","Kanpur","Varanasi","Agra"],
      "Uttarakhand": ["Dehradun","Haridwar","Pantnagar"],
      "West Bengal": ["Kolkata","Siliguri","Asansol"]
    };

    /************************************************************************
     * SECTORS (25 major sectors)
     ************************************************************************/
    const SECTORS = [
      "IT & Software","Banking & Finance","Healthcare & Pharma","Education","Manufacturing",
      "Retail & E-commerce","Telecom","Transportation & Logistics","Construction & Real Estate",
      "Hospitality & Tourism","Media & Entertainment","Energy & Utilities","Government & Public Sector",
      "Startups","Automobile","Consulting","Agriculture & Food","Insurance","Legal & Compliance",
      "Research & Development","NGO & Social Work","Aerospace & Defense","Chemical & Petrochemical",
      "Biotech","Sports & Fitness"
    ];

    /************************************************************************
     * ROLES (200+ roles; alphabetically ordered)
     ************************************************************************/
    const ROLES = [
      "Accountant","Actuarial Analyst","Administrative Assistant","AI Engineer","Analyst",
      "Application Support Engineer","Architect","Art Director","Associate Consultant","Auditor",
      "Auto Technician","Backend Developer","Billing Specialist","Biochemist","Biostatistician",
      "Brand Manager","Business Analyst","Business Development Manager","Call Center Executive",
      "Care Coordinator","Cardiologist","Carpenter","Chief Technology Officer (CTO)","Civil Engineer",
      "Claims Manager","Clinical Research Associate","Cloud Engineer","Community Manager","Compliance Officer",
      "Content Writer","Cost Accountant","Creative Director","CRM Manager","Customer Success Manager",
      "Data Analyst","Data Engineer","Data Scientist","Database Administrator","Design Engineer",
      "Diagnostic Radiologist","Digital Marketing Manager","Director of Operations","Doctor",
      "EHS Officer","Electrical Engineer","Embedded Systems Engineer","Event Manager","Executive Assistant",
      "Field Sales Executive","Finance Manager","Financial Analyst","Front-end Developer","Full Stack Developer",
      "General Manager","Graphic Designer","HR Business Partner","HR Executive","Human Resources Manager",
      "Inbound Sales","Industrial Engineer","Infrastructure Engineer","Information Security Analyst","Insurance Advisor",
      "Intern","IT Manager","Java Developer","Junior Developer","Key Account Manager","Lab Technician",
      "Lawyer","Logistics Manager","Machine Learning Engineer","Maintenance Engineer","Management Trainee",
      "Manufacturing Engineer","Marketing Executive","Mechanical Engineer","Medical Coder","Medical Representative",
      "Middle Manager","Mobile App Developer","Network Engineer","Nurse","Operations Manager","Optometrist",
      "Patent Analyst","Payroll Executive","Pediatrician","Pharmacist","Physiotherapist","Physician",
      "Plumber","Portfolio Manager","Product Designer","Product Manager","Production Manager",
      "Project Engineer","Project Manager","Public Relations Manager","Purchasing Manager","QA Engineer",
      "Quality Manager","Quantity Surveyor","Radiographer","Recruiter","Research Scientist","Restaurant Manager",
      "Research Analyst","Risk Manager","Sales Manager","Sales Representative","Scrum Master",
      "Security Officer","SEO Specialist","Service Engineer","Social Media Manager","Software Architect",
      "Software Engineer","Solution Architect","Solution Consultant","Speech Therapist","Statistician",
      "Store Manager","Strategy Manager","Supply Chain Manager","System Administrator","Technical Lead",
      "Technical Writer","Telemarketing Executive","Territory Manager","Test Engineer","Trainer",
      "UI/UX Designer","Underwriter","Unix Administrator","User Researcher","Vehicle Technician",
      "Verification Engineer","Video Editor","Visual Merchandiser","Voice Artist","Warehouse Manager",
      "Web Developer","Youth Program Coordinator","Zonal Manager",

      /* Additional roles to round up 200+ (repeat categories, variations) */
      "Android Developer","iOS Developer","Embedded Developer","Business Intelligence Analyst","ETL Developer",
      "Database Developer","GIS Analyst","Hydraulic Engineer","Instrumentation Engineer","Industrial Designer",
      "Clinical Data Manager","Regulatory Affairs Specialist","Medical Affairs Manager","Health Informatics Specialist",
      "Biomedical Engineer","Food Technologist","Quality Assurance Analyst","Lead Developer","Principal Engineer",
      "Site Reliability Engineer","DevOps Engineer","Platform Engineer","Performance Engineer","Security Engineer",
      "Customer Support Specialist","Helpdesk Engineer","Technical Support Engineer","IT Support Specialist",
      "Merchandiser","Channel Sales Manager","Affiliate Manager","Lifestyle Coach","Counselor",
      "Teacher (Primary)","Teacher (Secondary)","University Lecturer","Sports Coach","Fitness Instructor",
      "Nutritionist","Dietitian","Brewing Technician","Lab Assistant","Biotech Researcher"
    ];
    // ensure unique & sorted
    const ROLES_SORTED = Array.from(new Set(ROLES)).sort((a,b)=>a.localeCompare(b));

    /************************************************************************
     * UI state
     ************************************************************************/
    let selectedSector = "";
    let selectedStates = []; // array of state names
    let selectedCities = []; // array of city names
    let selectedRoles = [];  // array of role names

    /************************************************************************
     * INIT: populate sector suggestions
     ************************************************************************/
    const sectorInput = el("sectorInput");
    const sectorList = el("sectorList");

    function showSectorSuggestions(filter=""){
      const q = (filter||"").trim().toLowerCase();
      const matches = SECTORS.filter(s => s.toLowerCase().includes(q));
      if(matches.length===0){ sectorList.style.display="none"; sectorList.innerHTML=""; return; }
      sectorList.innerHTML = matches.map(s=>`<div class="item" data-val="${s}" onclick="onSectorPick('${s.replace(/'/g,"\\'")}')">${s}</div>`).join("");
      sectorList.style.display="block";
    }
    sectorInput.addEventListener("input", debounce(e=> showSectorSuggestions(e.target.value), 120));
    sectorInput.addEventListener("focus", ()=> showSectorSuggestions(sectorInput.value));
    document.addEventListener("click", (ev)=>{ if(!ev.target.closest("#sectorField")) sectorList.style.display="none"; });

    function onSectorPick(s){
      selectedSector = s;
      sectorInput.value = s;
      sectorList.style.display="none";
    }

    /************************************************************************
     * MULTI-SELECT helpers for State / City / Role
     ************************************************************************/
    function renderChips(containerId, items, onRemoveFnName){
      const container = el(containerId);
      // remove existing chips except the input element
      // we will rebuild before the input
      // Clear non-input children
      container.querySelectorAll(".chip").forEach(n=>n.remove());
      items.forEach(item=>{
        const chip = create("span"); chip.className="chip";
        chip.innerHTML = `<span>${item}</span><span class="x" onclick="${onRemoveFnName}('${item.replace(/'/g,"\\'")}')">&times;</span>`;
        container.insertBefore(chip, container.querySelector("input"));
      });
    }

    /************************************************************************
     * STATE multi-select logic
     ************************************************************************/
    const stateInput = el("stateInput");
    const stateSuggestions = el("stateSuggestions");
    const stateMulti = el("stateMulti");

    const ALL_STATES = Object.keys(STATE_CITY).sort((a,b)=>a.localeCompare(b));

    function showStateSuggestions(filter=""){
      const q = (filter||"").trim().toLowerCase();
      const available = ALL_STATES.filter(s => !selectedStates.includes(s));
      const matches = available.filter(s => s.toLowerCase().includes(q));
      if(matches.length===0){ stateSuggestions.style.display="none"; stateSuggestions.innerHTML=""; return; }
      stateSuggestions.innerHTML = matches.map(s=>`<div class="item" onclick=
