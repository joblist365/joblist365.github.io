<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JobPatra — Company & Career Explorer</title>
  <meta name="description" content="Find companies and roles across India by sector, state and city. Lightweight, mobile-first interface." />

  <style>
    /* ---------- Basic layout + theme (white + blue) ---------- */
    :root{
      --blue:#0b66c3;
      --blue-50:#eaf4ff;
      --muted:#6b7280;
      --card:#ffffff;
      --radius:12px;
    }
    html,body{height:100%;}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--blue-50) 0%, #f7fbff 100%);
      color:#0f1724;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
      padding-bottom:40px;
    }

    header{
      background:var(--blue);
      color:white;
      padding:28px 18px 22px;
      text-align:center;
      box-shadow: 0 4px 18px rgba(11,102,195,0.12);
    }
    header h1{margin:0;font-size:1.6rem;letter-spacing:-0.5px;}
    header p{margin:8px 0 0;color:rgba(255,255,255,0.95);font-size:0.95rem;}

    .wrap{
      max-width:920px;
      margin:18px auto;
      padding:0 18px;
    }

    /* ---------- notice ---------- */
    .notice{
      background:#f1fbff;
      border-left:4px solid var(--blue);
      padding:10px 14px;
      color:var(--muted);
      border-radius:10px;
      margin-bottom:14px;
      font-size:0.92rem;
    }

    /* ---------- search card ---------- */
    .card{
      background:var(--card);
      border-radius:var(--radius);
      padding:18px;
      box-shadow:0 6px 18px rgba(12,45,80,0.06);
      margin-bottom:18px;
    }

    label{
      display:block;
      font-size:0.85rem;
      color:#0f1724;
      margin-bottom:8px;
      font-weight:600;
    }

    .controls{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
    }

    .field{
      flex:1 1 240px;
      min-width:200px;
    }

    input[type="text"], .fake-select{
      width:100%;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid #e6edf7;
      background:white;
      font-size:0.95rem;
      box-sizing:border-box;
      outline:none;
    }
    input[type="text"]:focus, .fake-select:focus{
      border-color:rgba(11,102,195,0.9);
      box-shadow:0 4px 14px rgba(11,102,195,0.08);
    }

    .hint{font-size:0.82rem;color:var(--muted);margin-top:8px;}

    /* ---------- chips for selected states/cities ---------- */
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .chip{background:#f1f5f9;padding:6px 10px;border-radius:999px;font-size:0.85rem;color:#0f1724;border:1px solid #e6edf7;display:inline-flex;align-items:center;gap:8px}
    .chip button{background:transparent;border:0;cursor:pointer;color:#b91c1c;font-weight:600}

    /* ---------- dropdown suggestion box ---------- */
    .suggestions{
      position:relative;
    }
    .list{
      position:absolute;
      left:0;right:0;
      z-index:40;
      margin-top:8px;
      background:white;
      border-radius:10px;
      box-shadow:0 8px 30px rgba(11,66,120,0.09);
      max-height:220px;
      overflow:auto;
      border:1px solid #e6edf7;
    }
    .list button{
      display:flex;
      width:100%;
      text-align:left;
      gap:8px;
      padding:10px 12px;
      background:transparent;
      border:0;
      cursor:pointer;
      font-size:0.95rem;
    }
    .list button:hover{background:var(--blue-50);}
    .muted{color:var(--muted);font-size:0.88rem}

    /* ---------- ad banner 1 inch below controls ---------- */
    .ad-banner{
      margin:20px 0 8px; /* visually about 1 inch on mobile */
      text-align:center;
      padding:8px;
      background:#fff;
      border-radius:8px;
      border:1px solid #eef6ff;
    }
    .ad-banner img{max-width:100%;height:auto;border-radius:6px}

    /* ---------- buttons ---------- */
    .actions{
      display:flex;
      gap:10px;
      margin-top:14px;
      align-items:center;
      flex-wrap:wrap;
    }
    .btn{
      padding:10px 14px;border-radius:10px;border:0;font-weight:700;cursor:pointer;
    }
    .btn-primary{background:var(--blue);color:white;box-shadow:0 6px 18px rgba(11,102,195,0.12)}
    .btn-ghost{background:#f8fafc;color:var(--muted);border:1px solid #e6edf7}

    /* ---------- results ---------- */
    .results{
      margin-top:18px;
    }
    .company{
      display:flex;
      gap:12px;
      align-items:flex-start;
      padding:12px;
      border-radius:10px;
      background:linear-gradient(180deg,#fff,#fbfdff);
      border:1px solid #eef6ff;
      margin-bottom:12px;
    }
    .company .logo{
      width:68px;height:68px;border-radius:10px;background:#f1f5f9;display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--blue)
    }
    .company h3{margin:0;font-size:1rem}
    .company p{margin:6px 0 0;color:var(--muted);font-size:0.92rem}
    .company .meta{font-size:0.86rem;color:var(--muted);margin-top:6px}
    .company .right{margin-left:auto;display:flex;flex-direction:column;gap:8px;align-items:flex-end}

    .small{font-size:0.82rem;color:var(--muted)}

    /* ---------- responsive ---------- */
    @media (max-width:640px){
      header h1{font-size:1.4rem}
      .controls{flex-direction:column}
      .field{min-width:0}
      .company{flex-direction:row}
    }
  </style>
</head>
<body>
  <header>
    <h1>JobPatra</h1>
    <p>India’s Company & Career Explorer</p>
  </header>

  <main class="wrap">
    <!-- short professional note -->
    <div class="notice">
      Note: some companies post openings only on their own career pages — visiting a company’s page is often the fastest way to apply.
    </div>

    <!-- search card -->
    <section class="card" aria-labelledby="search-title">
      <h2 id="search-title" style="margin:0 0 12px;font-size:1.05rem">Find jobs by sector, state & role</h2>

      <div class="controls" id="search-controls">
        <div class="field">
          <label for="sector">Sector <span style="color:#c53030">*</span></label>
          <div class="suggestions">
            <input id="sector" type="text" placeholder="Type or tap to choose sector" autocomplete="off" aria-describedby="sector-hint" />
            <div id="sector-list" class="list" style="display:none"></div>
          </div>
        </div>

        <div class="field">
          <label for="states">State(s)</label>
          <div class="suggestions">
            <input id="states" type="text" placeholder="Type to search states" autocomplete="off" />
            <div id="states-list" class="list" style="display:none"></div>
          </div>
          <div class="chips" id="selected-states"></div>
        </div>

        <div class="field">
          <label for="cities">City(s)</label>
          <div class="suggestions">
            <input id="cities" type="text" placeholder="Type to search cities (filtered by states)" autocomplete="off" />
            <div id="cities-list" class="list" style="display:none"></div>
          </div>
          <div class="chips" id="selected-cities"></div>
        </div>

        <div class="field">
          <label for="roles">Role (optional)</label>
          <div class="suggestions">
            <input id="roles" type="text" placeholder="Type or choose role (optional)" autocomplete="off" />
            <div id="roles-list" class="list" style="display:none"></div>
          </div>
          <div class="chips" id="selected-roles"></div>
        </div>
      </div>

      <div class="ad-banner" aria-hidden="true">
        <!-- replace this placeholder with your ad snippet / image -->
        <img src="https://via.placeholder.com/728x90.png?text=Your+Ad+Here" alt="Ad Banner">
      </div>

      <div class="actions">
        <button class="btn btn-primary" id="searchBtn">Search</button>
        <button class="btn btn-ghost" id="resetBtn">Reset</button>
        <div class="small" id="results-summary" style="margin-left:auto">0 companies found</div>
      </div>

      <div class="hint" style="margin-top:8px">
        Start typing to search sectors, states, cities or roles. States and cities are optional — you may select multiple.
      </div>
    </section>

    <!-- results card -->
    <section class="card results" id="resultsCard" style="display:none">
      <h3 style="margin-top:0">Results</h3>
      <div id="resultsList"></div>
      <div id="noResults" style="display:none" class="muted">No companies found. Try wider filters.</div>
    </section>
  </main>

  <script>
    /* ===== Data ===== */

    // 50+ sectors (example)
    const sectors = [
      "Information Technology & Software","Healthcare & Pharma","Financial Services","Education & Training",
      "Manufacturing","Retail & E-commerce","Hospitality & Tourism","Construction & Real Estate",
      "Telecom","Automotive","Energy & Utilities","Media & Entertainment",
      "Logistics & Supply Chain","Consulting","Agriculture & Agrochemicals","Government & Public Sector",
      "Legal & Compliance","Human Resources","Marketing & Advertising","Sales",
      "Design & UX","Research & Development","Biotechnology","Insurance",
      "Aerospace & Defense","Chemicals","Food & Beverage","Consumer Goods",
      "Environmental & Sustainability","Banking","Accounting & Audit","Security & Cybersecurity",
      "Analytics & Data Science","Blockchain & Crypto","Sports & Fitness","Arts & Culture",
      "Nonprofit & NGOs","Real Estate Services","Transportation","Mining & Metals",
      "Printing & Packaging","Textiles & Apparel","Personal Care & Beauty","Veterinary Services",
      "Recruitment & Staffing","Event Management","Import/Export","Electronics",
      "Furniture & Home Furnishings","Luxury Goods","Other"
    ];

    // 200+ roles (sample list) - alphabetically sorted later
    const roles = [
      "Account Manager","Accountant","Acquisition Manager","Actuary","Administrator","Analyst",
      "Android Developer","Application Support Engineer","Architect","Art Director","Audit Manager",
      "Backend Developer","Barista","Business Analyst","Business Development Manager","Buyer",
      "Call Center Executive","Chef","Chief Financial Officer","Chief Technology Officer",
      "Civil Engineer","Cloud Engineer","Community Manager","Content Editor","Content Writer",
      "Customer Success Manager","Data Analyst","Data Engineer","Data Scientist","Delivery Manager",
      "DevOps Engineer","Digital Marketing Manager","Doctor","Electrical Engineer","Embedded Engineer",
      "Entrepreneur in Residence","Event Coordinator","Executive Assistant","Field Engineer",
      "Financial Analyst","Finance Manager","Fitness Trainer","Front-end Developer","Full Stack Developer",
      "Game Developer","Graphic Designer","HR Manager","Hospitality Manager","Hospital Nurse",
      "Hotel Manager","Illustrator","Import/Export Manager","IT Manager","Java Developer","Journalist",
      "Junior Developer","Key Account Manager","KPO Analyst","Lab Technician","Lawyer","Legal Counsel",
      "Logistics Manager","Machine Learning Engineer","Maintenance Engineer","Marketing Analyst",
      "Marketing Manager","Mechanical Engineer","Media Planner","Medical Representative","Merchandiser",
      "Network Engineer","Nurse","Occupational Therapist","Office Manager","Operations Executive",
      "Operations Manager","Packer","Payroll Specialist","People Operations Specialist","Pharmacist",
      "Physiotherapist","Product Designer","Product Manager","Program Manager","Project Coordinator",
      "Project Manager","Public Relations Manager","QA Analyst","QA Engineer","Quality Manager",
      "Quantitative Analyst","Recruiter","Research Associate","Restaurant Manager","Retail Manager",
      "Risk Analyst","Sales Consultant","Sales Executive","Sales Manager","SAP Consultant",
      "Scrum Master","Security Analyst","SEO Specialist","Service Technician","Site Engineer",
      "Social Media Manager","Software Engineer","Solutions Architect","Speech Therapist",
      "Staff Nurse","Store Manager","Supply Chain Analyst","Systems Engineer","Technical Lead",
      "Technical Support Engineer","Telecaller","Telecom Engineer","Teacher","Team Lead","Technical Writer",
      "Trade Marketing Manager","Trainer","Translator","UX Designer","UI Designer","Veterinarian",
      "Video Editor","Virtual Assistant","Warehouse Manager","Web Designer","Web Developer",
      "Windows Administrator","Wind Turbine Technician","WordPress Developer","Youth Counselor",
      "Zonal Manager",

      // add more to bring count > 200 (we can duplicate pattern of common roles)
      "AI Researcher","AI Trainer","Automation Engineer","Azure Engineer","BI Developer","BI Manager",
      "Billing Specialist","Business Intelligence Analyst","Capacity Planner","Cardiology Nurse",
      "Charging Station Technician","Childcare Worker","Claims Adjuster","Cloud Architect",
      "Compliance Officer","Content Strategist","Corporate Trainer","Counselor","Credentialing Specialist",
      "CRM Manager","Cybersecurity Engineer","Data Architect","Data Modeler","Database Administrator",
      "Dietitian","Digital Producer","EHS Manager","Ecommerce Manager","Electrical Technician",
      "Estimator","Field Sales Executive","Fleet Manager","Food Technologist","Front Office Executive",
      "Fresher - Graduate Trainee","Gas Engineer","Geotechnical Engineer","Growth Hacker",
      "Healthcare Administrator","HGV Driver","Industrial Designer","Industrial Engineer",
      "Instrumentation Engineer","IT Support Analyst","KYC Executive","Kitchen Steward","Learning Specialist",
      "Linux Administrator","Localization Engineer","Manufacturing Engineer","Marine Engineer",
      "Market Research Analyst","Media Buyer","Merchandising Executive","Metallurgical Engineer",
      "Microbiologist","Mobile App Designer","Motion Graphics Artist","Network Administrator",
      "NLP Engineer","Nutritionist","Occupational Health Nurse","Operations Research Analyst",
      "Ortho Nurse","Outreach Coordinator","Packaging Engineer","Pediatric Nurse","Petroleum Engineer",
      "Phlebotomist","Plant Operator","Portfolio Manager","Postman","Presales Engineer","Printer Operator",
      "Process Engineer","Product Marketing Manager","Production Manager","Programmer Analyst",
      "Property Manager","Public Health Officer","QA Lead","Quant Developer","Rainwater Harvesting Engineer",
      "Real Estate Agent","Recruitment Coordinator","Regulatory Affairs Manager","Reliability Engineer",
      "Renewable Energy Consultant","Retail Sales Associate","Robotics Engineer","Sales Operations",
      "SAP Basis Consultant","SAP Functional Consultant","Scheduler","Science Communicator","Scrum Developer",
      "Security Guard","Service Manager","Shop Manager","Signal & Telecom Engineer","Site Supervisor",
      "Solar Installer","Sound Engineer","Special Education Teacher","Sports Coach","Statistical Programmer",
      "Store Keeper","Strategy Consultant","Sustainability Analyst","Tax Consultant","Telesales Executive",
      "Trade Analyst","Traffic Planner","Training Manager","UI Developer","Urology Nurse","User Researcher",
      "Validation Engineer","Vendor Manager","Video Producer","Visual Merchandiser","Voice Artist",
      "Warranty Engineer","Warehouse Supervisor","Weather Analyst","Wind Energy Engineer","Yoga Instructor"
    ];

    // Example states + cities mapping (India-focused). Expand as needed.
    const statesMap = {
      "Andhra Pradesh":["Visakhapatnam","Vijayawada","Guntur","Tirupati"],
      "Arunachal Pradesh":["Itanagar"],
      "Assam":["Guwahati","Jorhat","Dibrugarh"],
      "Bihar":["Patna","Gaya","Bhagalpur"],
      "Chhattisgarh":["Raipur","Bhilai"],
      "Goa":["Panaji","Margao"],
      "Gujarat":["Ahmedabad","Vadodara","Surat","Rajkot"],
      "Haryana":["Gurugram","Faridabad","Panipat"],
      "Himachal Pradesh":["Shimla","Dharamshala"],
      "Jharkhand":["Ranchi","Jamshedpur"],
      "Karnataka":["Bengaluru","Mysuru","Mangalore","Hubli"],
      "Kerala":["Thiruvananthapuram","Kochi","Kozhikode"],
      "Madhya Pradesh":["Bhopal","Indore","Gwalior"],
      "Maharashtra":["Mumbai","Pune","Nagpur","Nashik"],
      "Manipur":["Imphal"],
      "Meghalaya":["Shillong"],
      "Mizoram":["Aizawl"],
      "Nagaland":["Kohima"],
      "Odisha":["Bhubaneswar","Cuttack","Rourkela"],
      "Punjab":["Chandigarh","Ludhiana","Amritsar"],
      "Rajasthan":["Jaipur","Jodhpur","Udaipur"],
      "Sikkim":["Gangtok"],
      "Tamil Nadu":["Chennai","Coimbatore","Madurai","Tiruchirappalli"],
      "Telangana":["Hyderabad","Warangal"],
      "Tripura":["Agartala"],
      "Uttar Pradesh":["Lucknow","Noida","Kanpur","Varanasi"],
      "Uttarakhand":["Dehradun","Haridwar"],
      "West Bengal":["Kolkata","Siliguri","Durgapur"],
      // union territories (add as needed)
      "Delhi":["New Delhi","Dwarka","Rohini"]
    };

    // sample companies array (minimal dataset). In practice you'll populate much larger dataset.
    const companies = [
      { id:1, name:"TechNova Solutions", sector:"Information Technology & Software", state:"Karnataka", city:"Bengaluru", roles:["Full Stack Developer","DevOps Engineer","QA Analyst"], careers:"https://example.com/careers/technova", advertises:true },
      { id:2, name:"Medicare Pharma", sector:"Healthcare & Pharma", state:"Maharashtra", city:"Mumbai", roles:["Medical Representative","Quality Manager"], careers:"https://example.com/careers/medicare", advertises:false },
      { id:3, name:"EduGrow Learning", sector:"Education & Training", state:"Tamil Nadu", city:"Chennai", roles:["Teacher","Content Writer"], careers:"https://example.com/careers/edugrow", advertises:true },
      { id:4, name:"GreenFoods Pvt Ltd", sector:"Food & Beverage", state:"Karnataka", city:"Bengaluru", roles:["Food Technologist","Marketing Manager"], careers:"https://example.com/careers/greenfoods", advertises:true },
      { id:5, name:"FinEdge Capital", sector:"Financial Services", state:"Maharashtra", city:"Pune", roles:["Analyst","Accountant"], careers:"https://example.com/careers/finedge", advertises:false }
      // add more real companies later
    ];

    /* ===== Utilities / UI state ===== */
    const sectorInput = document.getElementById('sector');
    const sectorList = document.getElementById('sector-list');
    const statesInput = document.getElementById('states');
    const statesList = document.getElementById('states-list');
    const citiesInput = document.getElementById('cities');
    const citiesList = document.getElementById('cities-list');
    const rolesInput = document.getElementById('roles');
    const rolesList = document.getElementById('roles-list');

    const selectedStatesBox = document.getElementById('selected-states');
    const selectedCitiesBox = document.getElementById('selected-cities');
    const selectedRolesBox = document.getElementById('selected-roles');

    const searchBtn = document.getElementById('searchBtn');
    const resetBtn = document.getElementById('resetBtn');
    const resultsCard = document.getElementById('resultsCard');
    const resultsList = document.getElementById('resultsList');
    const noResults = document.getElementById('noResults');
    const resultsSummary = document.getElementById('results-summary');

    let selectedStates = [];
    let selectedCities = [];
    let selectedRoles = [];
    let activeSector = "";

    // sort roles alphabetically (just once)
    roles.sort((a,b)=> a.localeCompare(b));

    // helper: show list of items in a suggestion container (with click handler)
    function renderSuggestionList(container, items, onClick){
      if(!items || items.length===0){
        container.style.display='none';
        container.innerHTML='';
        return;
      }
      container.innerHTML='';
      items.forEach(it=>{
        const btn = document.creat
