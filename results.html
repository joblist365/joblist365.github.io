<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JobPatra ‚Äì Search Results</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f5f9ff;
      margin: 0;
      padding: 0;
      color: #222;
    }

    header {
      text-align: center;
      background-color: #1565c0;
      color: #fff;
      padding: 20px;
      font-size: 1.6rem;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .container {
      max-width: 700px;
      margin: 20px auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .company-card {
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 15px;
      transition: 0.2s;
    }

    .company-card:hover {
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }

    .company-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .company-name {
      font-size: 1.2rem;
      font-weight: bold;
      color: #0d47a1;
    }

    .company-info {
      margin-top: 5px;
      color: #333;
      font-size: 0.95rem;
    }

    .buttons {
      margin-top: 10px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    button {
      border: none;
      border-radius: 6px;
      padding: 8px 12px;
      cursor: pointer;
      font-weight: bold;
      font-size: 0.9rem;
    }

    .fav {
      background-color: #ff4081;
      color: white;
    }

    .no-interest {
      background-color: #bbb;
      color: white;
    }

    .linkedin {
      background-color: #0077b5;
      color: white;
    }

    .career {
      background-color: #1976d2;
      color: white;
    }

    .dull {
      opacity: 0.5;
      filter: grayscale(100%);
    }

    .note {
      background: #e3f2fd;
      color: #0d47a1;
      padding: 10px;
      border-radius: 8px;
      text-align: center;
      margin-bottom: 15px;
    }

    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #777;
      padding: 20px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <header>üíº JobPatra</header>

  <div class="container">
    <div class="note">
      Filtered results based on your selections.
    </div>

    <div id="results"></div>
  </div>

  <footer>¬© 2025 JobPatra. All rights reserved.</footer>

  <script>
    // ‚úÖ Example company dataset (will later move to data.json)
    const companies = [
      { name: "Infosys", sector: "Information Technology", state: "Karnataka", city: "Bangalore", role: "Software Engineer", linkedin: "https://linkedin.com/company/infosys", career: "https://www.infosys.com/careers" },
      { name: "TCS", sector: "Information Technology", state: "Maharashtra", city: "Mumbai", role: "Data Analyst", linkedin: "https://linkedin.com/company/tata-consultancy-services", career: "https://www.tcs.com/careers" },
      { name: "Apollo Hospitals", sector: "Healthcare", state: "Tamil Nadu", city: "Chennai", role: "Medical Coder", linkedin: "https://linkedin.com/company/apollo-hospitals", career: "https://www.apollohospitals.com/careers" },
      { name: "HDFC Bank", sector: "Finance", state: "Delhi", city: "New Delhi", role: "Accountant", linkedin: "https://linkedin.com/company/hdfc-bank", career: "https://www.hdfcbank.com/careers" },
      { name: "Wipro", sector: "Information Technology", state: "Andhra Pradesh", city: "Visakhapatnam", role: "Software Engineer", linkedin: "https://linkedin.com/company/wipro", career: "https://careers.wipro.com" }
    ];

    const params = new URLSearchParams(window.location.search);
    const sector = params.get("sector");
    const state = params.get("state");
    const city = params.get("city");
    const role = params.get("role");

    const resultsDiv = document.getElementById("results");

    function filterCompanies() {
      let filtered = companies.filter(c => {
        return (!sector || c.sector === sector) &&
               (!state || c.state === state) &&
               (!city || c.city === city) &&
               (!role || c.role === role);
      });

      if (filtered.length === 0) {
        resultsDiv.innerHTML = `<p style="text-align:center;color:#555;">No companies found. Try different filters.</p>`;
        return;
      }

      filtered.forEach(c => {
        const card = document.createElement("div");
        card.className = "company-card";
        card.innerHTML = `
          <div class="company-header">
            <div class="company-name">${c.name}</div>
          </div>
          <div class="company-info">${c.city}, ${c.state} ‚Ä¢ ${c.sector} ‚Ä¢ ${c.role}</div>
          <div class="buttons">
            <button class="linkedin" onclick="window.open('${c.linkedin}')">LinkedIn</button>
            <button class="career" onclick="window.open('${c.career}')">Career Page</button>
            <button class="fav" onclick="addFavorite(this)">‚ù§Ô∏è Favorite</button>
            <button class="no-interest" onclick="markNotInterested(this)">üö´ Not Interested</button>
          </div>
        `;
        resultsDiv.appendChild(card);
      });
    }

    function addFavorite(btn) {
      btn.textContent = "‚ù§Ô∏è Favorited";
      btn.style.backgroundColor = "#d81b60";
    }

    function markNotInterested(btn) {
      const card = btn.closest(".company-card");
      card.classList.add("dull");
      card.parentNode.appendChild(card); // move to bottom
    }

    filterCompanies();
  </script>
</body>
</html>
