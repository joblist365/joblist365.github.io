<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JobPatra ‚Äì Search Results</title>
  <style>
    body{font-family:'Segoe UI',sans-serif;background-color:#f5f9ff;margin:0;padding:0;color:#222;}
    header{text-align:center;background-color:#1565c0;color:#fff;padding:20px;font-size:1.6rem;font-weight:bold;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
    .note{background:#e3f2fd;color:#0d47a1;padding:12px;border-radius:8px;font-size:0.95rem;text-align:center;margin:15px auto;line-height:1.5;max-width:700px;}
    .container{max-width:700px;margin:20px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
    .top-row{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:12px;}
    .company-card{border:1px solid #ccc;border-radius:10px;padding:15px;margin-bottom:15px;background:#f8fbff;transition:0.2s;display:block;}
    .company-card.favorite-card{border-color:#e91e63;background:#fff0f4;}
    .company-card.dimmed{opacity:.45;filter:grayscale(100%);}
    .company-card:hover{background:#eaf3ff;transform:translateY(-2px);}
    .company-name{font-size:1.1rem;font-weight:700;color:#0d47a1;}
    .company-info{margin-top:8px;color:#333;font-size:.95rem;line-height:1.5;}
    .buttons{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap;}
    .btn{border:none;border-radius:6px;padding:8px 12px;cursor:pointer;font-weight:700;font-size:.9rem;color:#fff;text-decoration:none;display:inline-flex;align-items:center;gap:8px;}
    .linkedin{background-color:#0a66c2;}
    .career{background-color:#1976d2;}
    .fav-btn{background-color:#e91e63;padding:8px 10px;font-size:1.1rem;}
    .na-btn{background-color:#9e9e9e;padding:8px 10px;font-size:1.1rem;}
    footer{text-align:center;font-size:.9rem;color:#777;padding:20px;margin-top:10px;}
    .ad-banner{text-align:center;margin-top:20px;}
    .ad-banner img{width:100%;max-width:468px;border-radius:8px;}
    @media(max-width:640px){.top-row{flex-direction:column;align-items:stretch;}.counts{text-align:left;margin-top:8px;}}
  </style>
</head>
<body>
  <header>üíº JobPatra</header>
  <div class="note">
    <button onclick="window.location.href='index.html'" style="background:#1976d2;color:#fff;border:none;border-radius:6px;padding:6px 12px;cursor:pointer;margin-right:8px;">‚Üê Back to Home</button>
    Results (favorites always shown first)
  </div>

  <div class="container">
    <div class="top-row">
      <div style="font-weight:700;color:#0d47a1">Matching Companies</div>
      <div class="counts" id="counts">Loading...</div>
    </div>
    <div id="results"></div>

    <div class="ad-banner">
      <img id="adImage" src="https://via.placeholder.com/468x60.png?text=Your+Ad+Here" alt="Ad Banner">
    </div>
  </div>

  <footer>¬© 2025 JobPatra. All rights reserved.</footer>

  <script>
    const LS_FAV='jobpatra_favorites_v1',LS_NA='jobpatra_not_interested_v1';
    function loadLocal(k){try{return JSON.parse(localStorage.getItem(k)||"[]");}catch{return[];}}
    function saveLocal(k,v){localStorage.setItem(k,JSON.stringify(v));}
    function getParam(n){const p=new URLSearchParams(location.search);return p.get(n)||"";}

    (async()=>{
      const results=document.getElementById('results'),counts=document.getElementById('counts');
      let data=[
        {name:"Infosys",sector:"Information Technology",state:"Karnataka",city:"Bangalore",roles:["Software Engineer"],linkedin:"https://linkedin.com/company/infosys",career:"https://www.infosys.com/careers"},
        {name:"TCS",sector:"Information Technology",state:"Maharashtra",city:"Mumbai",roles:["Data Analyst"],linkedin:"https://linkedin.com/company/tata-consultancy-services",career:"https://www.tcs.com/careers"},
        {name:"Apollo Hospitals",sector:"Healthcare",state:"Tamil Nadu",city:"Chennai",roles:["Medical Coder"],linkedin:"https://linkedin.com/company/apollo-hospitals",career:"https://www.apollohospitals.com/careers"}
      ];
      const favs=loadLocal(LS_FAV),nas=loadLocal(LS_NA),favSet=new Set(favs),naSet=new Set(nas);
      const list=[...data];
      counts.textContent=`${list.length} shown ‚Ä¢ ${favs.length} favorite`;
      list.forEach(c=>{
        const isFav=favSet.has(c.name),isNA=naSet.has(c.name);
        const card=document.createElement('div');
        card.className='company-card'+(isFav?' favorite-card':'')+(isNA?' dimmed':'');
        card.innerHTML=`
          <div class="company-name">${c.name}</div>
          <div class="company-info"><strong>Roles:</strong> ${(c.roles||[]).join(', ')}</div>
          <div class="buttons">
            <a class="btn linkedin" href="${c.linkedin}" target="_blank">LinkedIn</a>
            <a class="btn career" href="${c.career}" target="_blank">Career Page</a>
            <button class="btn fav-btn">${isFav?'‚ù§Ô∏è':'ü§ç'}</button>
            <button class="btn na-btn">üö´</button>
          </div>`;
        const fb=card.querySelector('.fav-btn'),nb=card.querySelector('.na-btn');
        fb.onclick=()=>{if(isFav)favs.splice(favs.indexOf(c.name),1);else favs.push(c.name);saveLocal(LS_FAV,favs);location.reload();};
        nb.onclick=()=>{if(isNA)nas.splice(nas.indexOf(c.name),1);else nas.push(c.name);saveLocal(LS_NA,nas);location.reload();};
        results.appendChild(card);
      });

      // rotating ads every 10s
      const ads=[
        "https://via.placeholder.com/468x60.png?text=Find+Your+Dream+Company",
        "https://via.placeholder.com/468x60.png?text=Top+Employers+Hiring+Now",
        "https://via.placeholder.com/468x60.png?text=Explore+Roles+on+JobPatra",
        "https://via.placeholder.com/468x60.png?text=Grow+Your+Career+Here"
      ];
      let i=0;setInterval(()=>{i=(i+1)%ads.length;document.getElementById('adImage').src=ads[i];},10000);
    })();
  </script>
</body>
</html>
